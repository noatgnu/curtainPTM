import{$a as w,$c as N,Eb as v,Ed as O,Fb as _,Hb as c,Ma as s,Pc as P,Sb as o,Vb as C,Wa as M,Wb as y,Xb as g,Xc as V,Yb as b,da as x,dd as I,ea as S,kd as W,ld as A,ma as f,nd as B,ob as p,pb as u,rb as D,sb as k,tb as E,td as F,ub as T,vb as t,wb as n,xb as d}from"./chunk-6RTRW24C.js";import"./chunk-N57AJHA5.js";function L(e,a){if(e&1){let i=v();t(0,"div",5)(1,"input",14),b("ngModelChange",function(r){x(i);let l=c();return g(l.permanent,r)||(l.permanent=r),S(r)}),n(),t(2,"label",15)(3,"strong"),o(4,"Permanent Session"),n(),t(5,"div",16),o(6," Permanent sessions never expire and remain available indefinitely. "),n()()()}if(e&2){let i=c();s(),y("ngModel",i.permanent)}}function Y(e,a){if(e&1&&(t(0,"option",19),o(1),n()),e&2){let i=a.$implicit;T("value",i),s(),C(" ",i," ",i===1?"month":"months"," ")}}function j(e,a){if(e&1){let i=v();t(0,"div",6)(1,"label",17)(2,"strong"),o(3,"Session Expiry Duration"),n()(),t(4,"select",18),b("ngModelChange",function(r){x(i);let l=c();return g(l.expiryDuration,r)||(l.expiryDuration=r),S(r)}),k(5,Y,2,3,"option",19,D),n(),t(7,"div",16),o(8," Session will automatically expire after the selected duration. "),n()()}if(e&2){let i=c();s(4),y("ngModel",i.expiryDuration),s(),E(i.siteProperties.expiry_duration_options)}}function q(e,a){e&1&&(t(0,"strong"),o(1,"Permanent session:"),n(),o(2," Your session will be saved permanently and never expire. "))}function z(e,a){if(e&1&&(t(0,"strong"),o(1,"Temporary session:"),n(),o(2)),e&2){let i=c();s(2),C(" Your session will expire in ",i.expiryDuration()," ",i.expiryDuration()===1?"month":"months",". ")}}var Z=(()=>{let a=class a{constructor(m){this.activeModal=m,this.permanent=f(!1),this.expiryDuration=f(void 0)}ngOnInit(){this.siteProperties&&this.expiryDuration.set(this.siteProperties.default_expiry_duration_months)}save(){let m={permanent:this.permanent(),expiryDuration:this.permanent()?void 0:this.expiryDuration()};this.activeModal.close(m)}cancel(){this.activeModal.dismiss()}};a.\u0275fac=function(r){return new(r||a)(M(O))},a.\u0275cmp=w({type:a,selectors:[["app-session-save-modal"]],inputs:{siteProperties:"siteProperties"},decls:19,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],[1,"bi","bi-save","me-2"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-check","form-switch","mb-3"],[1,"mb-3"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","me-1"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-check-circle","me-1"],["type","checkbox","id","permanentSwitch",1,"form-check-input",3,"ngModelChange","ngModel"],["for","permanentSwitch",1,"form-check-label"],[1,"form-text"],["for","expiryDuration",1,"form-label"],["id","expiryDuration",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"]],template:function(r,l){r&1&&(t(0,"div",0)(1,"h4",1),d(2,"i",2),o(3,"Save Session "),n(),t(4,"button",3),_("click",function(){return l.cancel()}),n()(),t(5,"div",4),p(6,L,7,1,"div",5),p(7,j,9,1,"div",6),t(8,"div",7),d(9,"i",8),p(10,q,3,0)(11,z,3,2),n()(),t(12,"div",9)(13,"button",10),_("click",function(){return l.cancel()}),d(14,"i",11),o(15,"Cancel "),n(),t(16,"button",12),_("click",function(){return l.save()}),d(17,"i",13),o(18,"Save Session "),n()()),r&2&&(s(6),u(l.siteProperties.allow_user_set_permanent?6:-1),s(),u(l.permanent()?-1:7),s(3),u(l.permanent()?10:11))},dependencies:[P,F,A,B,V,W,N,I],encapsulation:2});let e=a;return e})();export{Z as SessionSaveModalComponent};
